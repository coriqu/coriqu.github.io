{"ast":null,"code":"var _jsxFileName = \"/Users/cori/Desktop/2020/coriqu/coriqu.github.io/src/components/Cube/cube.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./Cube.css\";\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyCube = props => {\n  _s();\n\n  useEffect(() => {\n    var events = new Events();\n\n    events.add = function (obj) {\n      obj.events = {};\n    };\n\n    events.implement = function (fn) {\n      fn.prototype = Object.create(Events.prototype);\n    };\n\n    function Events() {\n      this.events = {};\n    }\n\n    Events.prototype.on = function (name, fn) {\n      var events = this.events[name];\n\n      if (events == undefined) {\n        this.events[name] = [fn];\n        this.emit('event:on', fn);\n      } else {\n        if (events.indexOf(fn) == -1) {\n          events.push(fn);\n          this.emit('event:on', fn);\n        }\n      }\n\n      return this;\n    };\n\n    Events.prototype.once = function (name, fn) {\n      var events = this.events[name];\n      fn.once = true;\n\n      if (!events) {\n        this.events[name] = [fn];\n        this.emit('event:once', fn);\n      } else {\n        if (events.indexOf(fn) == -1) {\n          events.push(fn);\n          this.emit('event:once', fn);\n        }\n      }\n\n      return this;\n    };\n\n    Events.prototype.emit = function (name, args) {\n      var events = this.events[name];\n\n      if (events) {\n        var i = events.length;\n\n        while (i--) {\n          if (events[i]) {\n            events[i].call(this, args);\n\n            if (events[i].once) {\n              delete events[i];\n            }\n          }\n        }\n      }\n\n      return this;\n    };\n\n    Events.prototype.unbind = function (name, fn) {\n      if (name) {\n        var events = this.events[name];\n\n        if (events) {\n          if (fn) {\n            var i = events.indexOf(fn);\n\n            if (i != -1) {\n              delete events[i];\n            }\n          } else {\n            delete this.events[name];\n          }\n        }\n      } else {\n        delete this.events;\n        this.events = {};\n      }\n\n      return this;\n    };\n\n    var userPrefix;\n\n    var prefix = function () {\n      var styles = window.getComputedStyle(document.documentElement, ''),\n          pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1],\n          dom = 'WebKit|Moz|MS|O'.match(new RegExp('(' + pre + ')', 'i'))[1];\n      userPrefix = {\n        dom: dom,\n        lowercase: pre,\n        css: '-' + pre + '-',\n        js: pre[0].toUpperCase() + pre.substr(1)\n      };\n    }();\n\n    function bindEvent(element, type, handler) {\n      if (element.addEventListener) {\n        element.addEventListener(type, handler, false);\n      } else {\n        element.attachEvent('on' + type, handler);\n      }\n    }\n\n    function Viewport(data) {\n      events.add(this);\n      var self = this;\n      this.element = data.element;\n      this.fps = data.fps;\n      this.sensivity = data.sensivity;\n      this.sensivityFade = data.sensivityFade;\n      this.touchSensivity = data.touchSensivity;\n      this.speed = data.speed;\n      this.lastX = 0;\n      this.lastY = 0;\n      this.mouseX = 0;\n      this.mouseY = 0;\n      this.distanceX = 0;\n      this.distanceY = 0;\n      this.positionX = 1122;\n      this.positionY = 136;\n      this.torqueX = 0;\n      this.torqueY = 0;\n      this.down = false;\n      this.upsideDown = false;\n      this.previousPositionX = 0;\n      this.previousPositionY = 0;\n      this.currentSide = 0;\n      this.calculatedSide = 0;\n      bindEvent(document, 'mousedown', function () {\n        self.down = true;\n      });\n      bindEvent(document, 'mouseup', function () {\n        self.down = false;\n      });\n      bindEvent(document, 'keyup', function () {\n        self.down = false;\n      });\n      bindEvent(document, 'mousemove', function (e) {\n        self.mouseX = e.pageX;\n        self.mouseY = e.pageY;\n      });\n      bindEvent(document, 'touchstart', function (e) {\n        self.down = true; // e.touches ? e = e.touches[0] : null;\n\n        if (e.touches) {\n          e = e.touches[0];\n        }\n\n        self.mouseX = e.pageX / self.touchSensivity;\n        self.mouseY = e.pageY / self.touchSensivity;\n        self.lastX = self.mouseX;\n        self.lastY = self.mouseY;\n      });\n      bindEvent(document, 'touchmove', function (e) {\n        if (e.preventDefault) {\n          e.preventDefault();\n        }\n\n        if (e.touches.length == 1) {\n          // e.touches ? e = e.touches[0] : null;\n          if (e.touches) {\n            e = e.touches[0];\n          }\n\n          self.mouseX = e.pageX / self.touchSensivity;\n          self.mouseY = e.pageY / self.touchSensivity;\n        }\n      });\n      bindEvent(document, 'touchend', function (e) {\n        self.down = false;\n      });\n      setInterval(this.animate.bind(this), this.fps);\n    }\n\n    events.implement(Viewport);\n\n    Viewport.prototype.animate = function () {\n      this.distanceX = this.mouseX - this.lastX;\n      this.distanceY = this.mouseY - this.lastY;\n      this.lastX = this.mouseX;\n      this.lastY = this.mouseY;\n\n      if (this.down) {\n        this.torqueX = this.torqueX * this.sensivityFade + (this.distanceX * this.speed - this.torqueX) * this.sensivity;\n        this.torqueY = this.torqueY * this.sensivityFade + (this.distanceY * this.speed - this.torqueY) * this.sensivity;\n      }\n\n      if (Math.abs(this.torqueX) > 1.0 || Math.abs(this.torqueY) > 1.0) {\n        if (!this.down) {\n          this.torqueX *= this.sensivityFade;\n          this.torqueY *= this.sensivityFade;\n        }\n\n        this.positionY -= this.torqueY;\n\n        if (this.positionY > 360) {\n          this.positionY -= 360;\n        } else if (this.positionY < 0) {\n          this.positionY += 360;\n        }\n\n        if (this.positionY > 90 && this.positionY < 270) {\n          this.positionX -= this.torqueX;\n\n          if (!this.upsideDown) {\n            this.upsideDown = true;\n            this.emit('upsideDown', {\n              upsideDown: this.upsideDown\n            });\n          }\n        } else {\n          this.positionX += this.torqueX;\n\n          if (this.upsideDown) {\n            this.upsideDown = false;\n            this.emit('upsideDown', {\n              upsideDown: this.upsideDown\n            });\n          }\n        }\n\n        if (this.positionX > 360) {\n          this.positionX -= 360;\n        } else if (this.positionX < 0) {\n          this.positionX += 360;\n        }\n\n        if (!(this.positionY >= 46 && this.positionY <= 130) && !(this.positionY >= 220 && this.positionY <= 308)) {\n          if (this.upsideDown) {\n            if (this.positionX >= 42 && this.positionX <= 130) {\n              this.calculatedSide = 3;\n            } else if (this.positionX >= 131 && this.positionX <= 223) {\n              this.calculatedSide = 2;\n            } else if (this.positionX >= 224 && this.positionX <= 314) {\n              this.calculatedSide = 5;\n            } else {\n              this.calculatedSide = 4;\n            }\n          } else {\n            if (this.positionX >= 42 && this.positionX <= 130) {\n              this.calculatedSide = 5;\n            } else if (this.positionX >= 131 && this.positionX <= 223) {\n              this.calculatedSide = 4;\n            } else if (this.positionX >= 224 && this.positionX <= 314) {\n              this.calculatedSide = 3;\n            } else {\n              this.calculatedSide = 2;\n            }\n          }\n        } else {\n          if (this.positionY >= 46 && this.positionY <= 130) {\n            this.calculatedSide = 6;\n          }\n\n          if (this.positionY >= 220 && this.positionY <= 308) {\n            this.calculatedSide = 1;\n          }\n        }\n\n        if (this.calculatedSide !== this.currentSide) {\n          this.currentSide = this.calculatedSide;\n          this.emit('sideChange');\n        }\n      }\n\n      this.element.style[userPrefix.js + 'Transform'] = 'rotateX(' + this.positionY + 'deg) rotateY(' + this.positionX + 'deg)';\n\n      if (this.positionY != this.previousPositionY || this.positionX != this.previousPositionX) {\n        this.previousPositionY = this.positionY;\n        this.previousPositionX = this.positionX;\n        this.emit('rotate');\n      }\n    };\n\n    var viewport = new Viewport({\n      element: document.getElementsByClassName('cube')[0],\n      fps: 20,\n      sensivity: .1,\n      sensivityFade: .93,\n      speed: 2,\n      touchSensivity: 1.5\n    });\n\n    function Cube(data) {\n      var self = this;\n      this.element = data.element;\n      this.sides = this.element.getElementsByClassName('side');\n      this.viewport = data.viewport;\n      this.viewport.on('rotate', function () {\n        self.rotateSides();\n      });\n      this.viewport.on('upsideDown', function (obj) {\n        self.upsideDown(obj);\n      });\n      this.viewport.on('sideChange', function () {\n        self.sideChange();\n      });\n    }\n\n    Cube.prototype.rotateSides = function () {\n      var viewport = this.viewport;\n\n      if (viewport.positionY > 90 && viewport.positionY < 270) {\n        this.sides[0].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + (viewport.positionX + viewport.torqueX) + 'deg)';\n        this.sides[5].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + -(viewport.positionX + 180 + viewport.torqueX) + 'deg)';\n      } else {\n        this.sides[0].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + (viewport.positionX - viewport.torqueX) + 'deg)';\n        this.sides[5].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + -(viewport.positionX + 180 - viewport.torqueX) + 'deg)';\n      }\n    };\n\n    Cube.prototype.upsideDown = function (obj) {\n      var deg = obj.upsideDown == true ? '180deg' : '0deg';\n      var i = 5;\n\n      while (i > 0 && --i) {\n        this.sides[i].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + deg + ')';\n      }\n    };\n\n    Cube.prototype.sideChange = function () {\n      for (var i = 0; i < this.sides.length; ++i) {\n        this.sides[i].getElementsByClassName('cube-image')[0].className = 'cube-image';\n      }\n\n      this.sides[this.viewport.currentSide - 1].getElementsByClassName('cube-image')[0].className = 'cube-image active';\n    };\n\n    new Cube({\n      viewport: viewport,\n      element: document.getElementsByClassName('cube')[0]\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"viewport\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cube\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cube-image\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cube-image\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cube-image\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cube-image\",\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cube-image\",\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cube-image active\",\n            children: \"6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 359,\n    columnNumber: 3\n  }, this);\n};\n\n_s(MyCube, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = MyCube;\nexport default MyCube;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyCube\");","map":{"version":3,"sources":["/Users/cori/Desktop/2020/coriqu/coriqu.github.io/src/components/Cube/cube.js"],"names":["React","useEffect","MyCube","props","events","Events","add","obj","implement","fn","prototype","Object","create","on","name","undefined","emit","indexOf","push","once","args","i","length","call","unbind","userPrefix","prefix","styles","window","getComputedStyle","document","documentElement","pre","Array","slice","join","match","OLink","dom","RegExp","lowercase","css","js","toUpperCase","substr","bindEvent","element","type","handler","addEventListener","attachEvent","Viewport","data","self","fps","sensivity","sensivityFade","touchSensivity","speed","lastX","lastY","mouseX","mouseY","distanceX","distanceY","positionX","positionY","torqueX","torqueY","down","upsideDown","previousPositionX","previousPositionY","currentSide","calculatedSide","e","pageX","pageY","touches","preventDefault","setInterval","animate","bind","Math","abs","style","viewport","getElementsByClassName","Cube","sides","rotateSides","sideChange","deg","className"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"./Cube.css\"\nimport {useEffect} from 'react';\n\n\n\nconst MyCube = (props) => {\n\tuseEffect(()=>{\n\t\tvar events = new Events();\nevents.add = function(obj) {\n  obj.events = { };\n}\nevents.implement = function(fn) {\n  fn.prototype = Object.create(Events.prototype);\n}\n\nfunction Events() {\n  this.events = { };\n}\nEvents.prototype.on = function(name, fn) {\n  var events = this.events[name];\n  if (events == undefined) {\n    this.events[name] = [ fn ];\n    this.emit('event:on', fn);\n  } else {\n    if (events.indexOf(fn) == -1) {\n      events.push(fn);\n      this.emit('event:on', fn);\n    }\n  }\n  return this;\n}\nEvents.prototype.once = function(name, fn) {\n  var events = this.events[name];\n  fn.once = true;\n  if (!events) {\n    this.events[name] = [ fn ];\n    this.emit('event:once', fn);\n  } else {\n    if (events.indexOf(fn) == -1) {\n      events.push(fn);\n      this.emit('event:once', fn);\n    }\n  }\n  return this;\n}\nEvents.prototype.emit = function(name, args) {\n  var events = this.events[name];\n  if (events) {\n    var i = events.length;\n    while(i--) {\n      if (events[i]) {\n        events[i].call(this, args);\n        if (events[i].once) {\n          delete events[i];\n        }\n      }\n    }\n  }\n  return this;\n}\nEvents.prototype.unbind = function(name, fn) {\n  if (name) {\n    var events = this.events[name];\n    if (events) {\n      if (fn) {\n        var i = events.indexOf(fn);\n        if (i != -1) {\n          delete events[i];\n        }\n      } else {\n        delete this.events[name];\n      }\n    }\n  } else {\n    delete this.events;\n    this.events = { };\n  }\n  return this;\n}\n\nvar userPrefix;\n\nvar prefix = (function () {\n  var styles = window.getComputedStyle(document.documentElement, ''),\n    pre = (Array.prototype.slice\n      .call(styles)\n      .join('') \n      .match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n    )[1],\n    dom = ('WebKit|Moz|MS|O').match(new RegExp('(' + pre + ')', 'i'))[1];\n  userPrefix = {\n    dom: dom,\n    lowercase: pre,\n    css: '-' + pre + '-',\n    js: pre[0].toUpperCase() + pre.substr(1)\n  };\n})();\n\nfunction bindEvent(element, type, handler) {\n  if(element.addEventListener) {\n    element.addEventListener(type, handler, false);\n  } else {\n    element.attachEvent('on' + type, handler);\n  }\n}\n\nfunction Viewport(data) {\n  events.add(this);\n\n  var self = this;\n\n  this.element = data.element;\n  this.fps = data.fps;\n  this.sensivity = data.sensivity;\n  this.sensivityFade = data.sensivityFade;\n  this.touchSensivity = data.touchSensivity;\n  this.speed = data.speed;\n\n  this.lastX = 0;\n  this.lastY = 0;\n  this.mouseX = 0;\n  this.mouseY = 0;\n  this.distanceX = 0;\n  this.distanceY = 0;\n  this.positionX = 1122;\n  this.positionY = 136;\n  this.torqueX = 0;\n  this.torqueY = 0;\n\n  this.down = false;\n  this.upsideDown = false;\n\n  this.previousPositionX = 0;\n  this.previousPositionY = 0;\n\n  this.currentSide = 0;\n  this.calculatedSide = 0;\n\n\n  bindEvent(document, 'mousedown', function() {\n    self.down = true;\n  });\n\n  bindEvent(document, 'mouseup', function() {\n    self.down = false;\n  });\n  \n  bindEvent(document, 'keyup', function() {\n    self.down = false;\n  });\n\n  bindEvent(document, 'mousemove', function(e) {\n    self.mouseX = e.pageX;\n    self.mouseY = e.pageY;\n  });\n\n  bindEvent(document, 'touchstart', function(e) {\n\n    self.down = true;\n    // e.touches ? e = e.touches[0] : null;\n    if(e.touches) {\n    \te = e.touches[0];\n    }\n    self.mouseX = e.pageX / self.touchSensivity;\n    self.mouseY = e.pageY / self.touchSensivity;\n    self.lastX  = self.mouseX;\n    self.lastY  = self.mouseY;\n  });\n\n  bindEvent(document, 'touchmove', function(e) {\n    if(e.preventDefault) { \n      e.preventDefault();\n    }\n\n    if(e.touches.length == 1) {\n\n      // e.touches ? e = e.touches[0] : null;\n      if(e.touches) {\n    \te = e.touches[0];\n    }\n\n      self.mouseX = e.pageX / self.touchSensivity;\n      self.mouseY = e.pageY / self.touchSensivity;\n\n    }\n  });\n\n  bindEvent(document, 'touchend', function(e) {\n    self.down = false;\n  });  \n\n  setInterval(this.animate.bind(this), this.fps);\n\n}\nevents.implement(Viewport);\nViewport.prototype.animate = function() {\n\n  this.distanceX = (this.mouseX - this.lastX);\n  this.distanceY = (this.mouseY - this.lastY);\n\n  this.lastX = this.mouseX;\n  this.lastY = this.mouseY;\n\n  if(this.down) {\n    this.torqueX = this.torqueX * this.sensivityFade + (this.distanceX * this.speed - this.torqueX) * this.sensivity;\n    this.torqueY = this.torqueY * this.sensivityFade + (this.distanceY * this.speed - this.torqueY) * this.sensivity;\n  }\n\n  if(Math.abs(this.torqueX) > 1.0 || Math.abs(this.torqueY) > 1.0) {\n    if(!this.down) {\n      this.torqueX *= this.sensivityFade;\n      this.torqueY *= this.sensivityFade;\n    }\n\n    this.positionY -= this.torqueY;\n\n    if(this.positionY > 360) {\n      this.positionY -= 360;\n    } else if(this.positionY < 0) {\n      this.positionY += 360;\n    }\n\n    if(this.positionY > 90 && this.positionY < 270) {\n      this.positionX -= this.torqueX;\n\n      if(!this.upsideDown) {\n        this.upsideDown = true;\n        this.emit('upsideDown', { upsideDown: this.upsideDown });\n      }\n\n    } else {\n\n      this.positionX += this.torqueX;\n\n      if(this.upsideDown) {\n        this.upsideDown = false;\n        this.emit('upsideDown', { upsideDown: this.upsideDown });\n      }\n    }\n\n    if(this.positionX > 360) {\n      this.positionX -= 360;\n    } else if(this.positionX < 0) {\n      this.positionX += 360;\n    }\n\n    if(!(this.positionY >= 46 && this.positionY <= 130) && !(this.positionY >= 220 && this.positionY <= 308)) {\n      if(this.upsideDown) {\n        if(this.positionX >= 42 && this.positionX <= 130) {\n          this.calculatedSide = 3;\n        } else if(this.positionX >= 131 && this.positionX <= 223) {\n          this.calculatedSide = 2;\n        } else if(this.positionX >= 224 && this.positionX <= 314) {\n          this.calculatedSide = 5;\n        } else {\n          this.calculatedSide = 4;\n        }\n      } else {\n        if(this.positionX >= 42 && this.positionX <= 130) {\n          this.calculatedSide = 5;\n        } else if(this.positionX >= 131 && this.positionX <= 223) {\n          this.calculatedSide = 4;\n        } else if(this.positionX >= 224 && this.positionX <= 314) {\n          this.calculatedSide = 3;\n        } else {\n          this.calculatedSide = 2;\n        }\n      }\n    } else {\n      if(this.positionY >= 46 && this.positionY <= 130) {\n        this.calculatedSide = 6;\n      }\n\n      if(this.positionY >= 220 && this.positionY <= 308) {\n        this.calculatedSide = 1;\n      }\n    }\n\n    if(this.calculatedSide !== this.currentSide) {\n      this.currentSide = this.calculatedSide;\n      this.emit('sideChange');\n    }\n\n  }\n\n  this.element.style[userPrefix.js + 'Transform'] = 'rotateX(' + this.positionY + 'deg) rotateY(' + this.positionX + 'deg)';\n\n  if(this.positionY != this.previousPositionY || this.positionX != this.previousPositionX) {\n    this.previousPositionY = this.positionY;\n    this.previousPositionX = this.positionX;\n\n    this.emit('rotate');\n\n  }\n\n}\nvar viewport = new Viewport({\n  element: document.getElementsByClassName('cube')[0],\n  fps: 20,\n  sensivity: .1,\n  sensivityFade: .93,\n  speed: 2,\n  touchSensivity: 1.5\n});\n\nfunction Cube(data) {\n  var self = this;\n\n  this.element = data.element;\n  this.sides = this.element.getElementsByClassName('side');\n\n  this.viewport = data.viewport;\n  this.viewport.on('rotate', function() {\n    self.rotateSides();\n  });\n  this.viewport.on('upsideDown', function(obj) {\n    self.upsideDown(obj);\n  });\n  this.viewport.on('sideChange', function() {\n    self.sideChange();\n  });\n}\nCube.prototype.rotateSides = function() {\n  var viewport = this.viewport;\n  if(viewport.positionY > 90 && viewport.positionY < 270) {\n    this.sides[0].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + (viewport.positionX + viewport.torqueX) + 'deg)';\n    this.sides[5].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + -(viewport.positionX + 180 + viewport.torqueX) + 'deg)';\n  } else {\n    this.sides[0].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + (viewport.positionX - viewport.torqueX) + 'deg)';\n    this.sides[5].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + -(viewport.positionX + 180 - viewport.torqueX) + 'deg)';\n  }\n}\nCube.prototype.upsideDown = function(obj) {\n\n  var deg = (obj.upsideDown == true) ? '180deg' : '0deg';\n  var i = 5;\n\n  while(i > 0 && --i) {\n    this.sides[i].getElementsByClassName('cube-image')[0].style[userPrefix.js + 'Transform'] = 'rotate(' + deg + ')';\n  }\n\n}\nCube.prototype.sideChange = function() {\n\n  for(var i = 0; i < this.sides.length; ++i) {\n    this.sides[i].getElementsByClassName('cube-image')[0].className = 'cube-image';    \n  }\n\n  this.sides[this.viewport.currentSide - 1].getElementsByClassName('cube-image')[0].className = 'cube-image active';\n\n}\n\t\tnew Cube({\n\t\t  viewport: viewport,\n\t\t  element: document.getElementsByClassName('cube')[0]\n\t\t});\n\t},[])\n\treturn (\n\t\t<div id=\"wrapper\">\n\t\t  <div className=\"viewport\">\n\t\t    <div className=\"cube\">\n\t\t      <div className=\"side\">\n\t\t        <div className=\"cube-image\">1</div>\n\t\t      </div>\n\t\t      <div className=\"side\">\n\t\t        <div className=\"cube-image\">2</div>\n\t\t      </div>\n\t\t      <div className=\"side\">\n\t\t        <div className=\"cube-image\">3</div>\n\t\t      </div>\n\t\t      <div className=\"side\">\n\t\t        <div className=\"cube-image\">4</div>\n\t\t      </div>\n\t\t      <div className=\"side\">\n\t\t        <div className=\"cube-image\">5</div>\n\t\t      </div>\n\t\t      <div className=\"side\">\n\t\t        <div className=\"cube-image active\">6</div>\n\t\t      </div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\t)\n\n}\nexport default MyCube;"]},"metadata":{},"sourceType":"module"}